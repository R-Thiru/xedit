<div class="absolute inset-0 flex flex-col min-w-0 overflow-hidden">
    <div class="flex flex-auto overflow-hidden">
        <div class="flex flex-col flex-auto overflow-y-auto lg:overflow-hidden bg-gray-200">
            <mat-drawer-container class="flex-auto h-full" hasBackdrop="true">
                <mat-drawer-content class="flex flex-col overflow-hidden">
                    <div
                        class="flex  flex-0 items-center h-14 px-4 md:px-6 bg-white flex-0 sm:justify-between py-4 px-6 md:px-8 border-b ">
                        <!-- Title -->
                        <div *transloco="let t"
                            class="text-2xl font-extrabold tracking-tight leading-5  truncate">
                            {{t('users')}}
                        </div>

                        <!-- Actions -->
                        <div class="flex shrink-0 items-center mt-6 sm:mt-0 sm:ml-4">
                            <mat-tab-group class="sm:px-2 " (selectedTabChange)="selectedTabValue($event)"
                                [animationDuration]="'0'">
                                <mat-tab label="Grid">

                                </mat-tab>
                                <mat-tab label="List">

                                </mat-tab>
                            </mat-tab-group>
                            <!-- Add product button -->
                            <button class="ml-4" mat-flat-button [color]="'primary'" (click)="addUser()">
                                <mat-icon [svgIcon]="'heroicons_outline:plus'"></mat-icon>
                                <span class="ml-2 mr-1" *transloco="let t">{{t('add')}}</span>
                            </button>
                        </div>
                    </div>
                    <!-- Alert -->
                    <div class="w-full z-10 flex absolute justify-center" *ngIf="showAlert">
                        <fuse-alert [appearance]="'soft'" [dismissible]="true" [dismissed]="false"
                            (dismissedChanged)="output($event)" class=" max-w-sm relative right-0 top-0"
                            [type]="alert.type" [@shake]="alert.type === 'error'"
                            [@slideInTop]="alert.type === 'success'">
                            {{alert.message}}
                        </fuse-alert>
                    </div>
                    <!-- Content -->
                    <div class="flex flex-col flex-auto  sm:overflow-y-auto h-screen"
                        [ngClass]="{'mt-6':gridView == true}">
                        <!-- Grid view -->
                        <div class="flex-auto" *ngIf="gridView">
                            <div
                                class="flex flex-col sm:flex-row md:flex-col flex-auto justify-between px-6 md:px-4 sm:mb-10 ">
                                <div
                                    class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 xxl:grid-cols-5 gap-6  w-full  min-w-0 ">
                                    <ng-container *ngFor="let user of obs|async|search:inputData">
                                        <div
                                            class="flex flex-auto  items-center bg-card shadow rounded-2xl w-full overflow-hidden p-2">
                                            <!-- Avatar & Info -->
                                            <div
                                                class="flex flex-col flex-auto w-full p-4 text-center relative left-3 ">
                                                <div
                                                    class="flex flex-row w-32 h-32 mx-auto rounded-full overflow-hidden shadow-md  items-center justify-center" [ngClass]="{'border-2 border-slate-400 border-dashed': !user.image}">
                                                    <div class="flex items-center justify-center w-full h-full rounded">
                                                        <img class="w-full h-full object-cover" *ngIf="!user.image"
                                                            src="assets\images\png\Users.png">
                                                        <img class="w-full h-full object-cover active:border-0" *ngIf="user.image"
                                                            [src]="user.image">
                                                    </div>
                                                </div>

                                                <div>
                                                    <div class="mt-6  font-normal flex flex-row justify-center">
                                                        
                                                        <span class="font-bold uppercase lg:w-40 md:w-20  truncate"
                                                        matTooltipClass="my-custom-tooltip" matTooltipPosition="above"
                                                        [matTooltip]="user.first_name">
                                                            {{user.first_name}}&nbsp;{{user.last_name}}
                                                        </span>
                                                    </div>
                                                    <!-- <div class="font-normal flex flex-row justify-center">
                                                 
                                                        <span class="font-semibold lowercase">
                                                            {{user.role_display_name}}
                                                        </span>
                                                    </div>
                                                    <div class="font-normal flex flex-row justify-center">
                                                       
                                                        <span class="font-medium lowercase">
                                                            {{user.team_display_name}}
                                                        </span>

                                                    </div> -->
                                                </div>

                                            </div>
                                            <div class="-mt-48">
                                                <button mat-icon-button [matMenuTriggerFor]="actions" class="mt-3">
                                                    <mat-icon class="icon-size-5"
                                                        [svgIcon]="'heroicons_solid:dots-vertical'">
                                                    </mat-icon>
                                                </button>
                                                <mat-menu #actions="matMenu">
                                                    <button mat-menu-item (click)="editUser(user)"
                                                        [disabled]="user.is_editable == 0">
                                                        <span class="flex items-center">
                                                            <mat-icon class="icon-size-5 mr-3"
                                                                [svgIcon]="'heroicons_solid:pencil'">
                                                            </mat-icon>
                                                            <span>Edit</span>
                                                        </span>
                                                    </button>
                                                    <button mat-menu-item [disabled]="user.is_editable == 0"
                                                        (click)="openConfirmationDialog(user)">
                                                        <span class="flex items-center">
                                                            <mat-icon class="icon-size-5 mr-3"
                                                                [svgIcon]="'heroicons_solid:trash'">
                                                            </mat-icon>
                                                            <span>Delete</span>
                                                        </span>
                                                    </button>

                                                </mat-menu>
                                            </div>
                                        </div>
                                    </ng-container>
                                </div>
                            </div>
                        </div>

                        <!-- table view -->
                        <div class="flex flex-col flex-auto  overflow-hidden sm:overflow-y-auto" *ngIf="!gridView">
                            <ng-container>
                                <div class="grid bg-white">
                                    <div class="inventory-grid z-10 sticky top-0 grid gap-4 py-4 px-6 md:px-8 shadow text-md font-semibold text-secondary bg-gray-50 dark:bg-black dark:bg-opacity-5"
                                        matSort matSortDisableClear>
                                        <div></div>
                                        <div [mat-sort-header]="'User'">
                                            User
                                        </div>

                                        <div [mat-sort-header]="'Action'">
                                            Action
                                        </div>

                                    </div>
                                    <ng-container *ngFor="let user of obs|async|search:inputData">
                                        <div class="inventory-grid grid items-center gap-4 py-3 px-6 md:px-8 border-b">
                                            <div></div>
                                            <div class="uppercase">
                                                {{user.first_name}}&nbsp;{{user.last_name}}
                                            </div>

                                            <!-- Name -->
                                            <div>
                                                <button mat-icon-button [matMenuTriggerFor]="listMenu">
                                                    <mat-icon class="icon-size-5"
                                                        [svgIcon]="'heroicons_solid:dots-vertical'">
                                                    </mat-icon>
                                                </button>
                                                <mat-menu #listMenu="matMenu" [diabled]="user.is_editable == 0">
                                                    <button mat-menu-item (click)="editUser(user)">
                                                        <span class="flex items-center">
                                                            <mat-icon class="icon-size-5 mr-3"
                                                                [svgIcon]="'heroicons_solid:pencil'">
                                                            </mat-icon>
                                                            <span>Edit</span>
                                                        </span>
                                                    </button>
                                                    <button mat-menu-item (click)="openConfirmationDialog(user)"
                                                        [disabled]="user.is_editable == 0">
                                                        <span class="flex items-center">
                                                            <mat-icon class="icon-size-5 mr-3"
                                                                [svgIcon]="'heroicons_solid:trash'">
                                                            </mat-icon>
                                                            <span>Delete</span>
                                                        </span>
                                                    </button>

                                                </mat-menu>
                                            </div>
                                        </div>
                                    </ng-container>
                                </div>
                            </ng-container>
                        </div>
                    </div>
                    <!-- pagination -->
                    <pagination #paginator [length]="userArr.length" [pageIndex]="0" [pageSize]="10"
                        [pageSizeOptions]="[10, 20, 30, 100]" (pagination)="getData($event)">
                    </pagination>
                </mat-drawer-content>
                <mat-drawer #matDrawer class="w-full md:w-1/3 dark:bg-gray-900" [autoFocus]="false" position="end"
                    mode="over">
                    <user></user>
                </mat-drawer>
            </mat-drawer-container>
        </div>
    </div>
</div>